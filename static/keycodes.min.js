function getModifiers(e){return[e.ctrlKey&&"Ctrl",e.shiftKey&&"Shift",e.altKey&&"Alt",e.metaKey&&(navigator.platform.startsWith("Mac")?"Cmd":"Meta"),e.getModifierState?.("Fn")&&"Fn"].filter(Boolean).join(" + ")}function updateKeyInfo(e){const t=" "===e.key?"Space":e.key,o=getModifiers(e),n={"main-key":o&&1===e.key.length?`${o} + ${t}`:o||t,"info-key":t,"info-code":e.code,"info-keycode":e.keyCode,"info-which":e.which,"info-location":e.location,"info-modifiers":o||"–","info-repeat":e.repeat?"Yes":"No","info-composing":e.isComposing?"Yes":"No","info-timestamp":Math.round(e.timeStamp)+" ms"},i={caps:"CapsLock",num:"NumLock",scroll:"Scrolllock"};for(const e in n){const t=document.getElementById(e);t&&(t.textContent=n[e])}for(const t in i){const o=document.getElementById(`info-${t}lock`);o&&(o.textContent=e.getModifierState&&e.getModifierState(i[t])?"On":"Off")}}function blockAll(e){const t=["PrintScreen","ContextMenu","F1","F3","F4","F5","F11","F12","Meta","OS","Super","LaunchApplication1","LaunchApplication2"];return e.ctrlKey||e.altKey||e.metaKey||t.includes(e.key)||t.includes(e.code),e.preventDefault(),e.stopPropagation(),!1}["keydown","keypress","keyup"].forEach((e=>{window.addEventListener(e,(t=>{"keydown"===e&&updateKeyInfo(t),blockAll(t)}),!0)})),document.addEventListener("DOMContentLoaded",(()=>{["main-key","info-key","info-code","info-keycode","info-which","info-location","info-modifiers","info-repeat"].forEach((e=>{const t=document.getElementById(e);t&&(t.textContent="–")}))}));